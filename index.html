<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZIDDI ARCHIVER | Source Unlocked</title>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --bg: #0b0e14; --card: #151921; --accent: #00d2ff; --green: #00ff88; --text: #e0e6ed; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background: var(--bg); color: var(--text); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .container { background: var(--card); padding: 35px; border-radius: 30px; border: 1px solid #2d3436; width: 100%; max-width: 750px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.8); }
        .logo { font-family: 'Audiowide'; font-size: 2.2rem; color: var(--accent); margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px; }
        input { width: 100%; padding: 18px; border-radius: 15px; border: 1px solid #3b3b3b; background: #0b0e14; color: white; outline: none; margin-bottom: 20px; font-size: 0.95rem; text-align: center; }
        .btn-main { width: 100%; padding: 18px; border: none; border-radius: 50px; background: linear-gradient(90deg, #00d2ff, #3a7bd5); color: white; font-weight: bold; cursor: pointer; font-size: 1rem; margin-bottom: 15px; transition: 0.3s; }
        .btn-main:hover { transform: scale(1.02); filter: brightness(1.1); }
        #status { font-size: 0.85rem; margin-bottom: 15px; font-weight: 600; color: var(--accent); min-height: 20px; }
        #resultBox { display: none; margin-top: 25px; text-align: left; animation: slideUp 0.5s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .code-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; background: #2d3436; padding: 10px 15px; border-radius: 10px 10px 0 0; }
        textarea { width: 100%; height: 350px; background: #000; color: var(--green); padding: 15px; border: none; border-radius: 0 0 10px 10px; font-family: 'Courier New', monospace; font-size: 0.85rem; resize: none; overflow-y: auto; outline: none; border: 1px solid #2d3436; }
        .btn-copy { background: var(--green); color: #000; padding: 8px 20px; border-radius: 5px; border: none; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-copy:active { transform: scale(0.95); }
        .wa-float { position: fixed; right: 25px; bottom: 25px; background: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); text-decoration: none; z-index: 1000; }
    </style>
</head>
<body>

<div class="container">
    <h1 class="logo">ZIDDI ARCHIVER</h1>
    <input type="url" id="siteUrl" placeholder="Paste Website Link Here...">
    <button class="btn-main" id="grabBtn" onclick="forceGrab()">
        <i class="fas fa-unlock-alt"></i> FORCE ARCHIVE SOURCE
    </button>
    <div id="status">Ready to Bypass Security...</div>

    <div id="resultBox">
        <div class="code-header">
            <span style="font-size: 0.8rem; font-weight: bold;">FULL HTML SOURCE</span>
            <button class="btn-copy" onclick="copyCode()">COPY CODE</button>
        </div>
        <textarea id="output" readonly></textarea>
    </div>
</div>

<a href="https://wa.me/923402439417" class="wa-float" target="_blank"><i class="fab fa-whatsapp"></i></a>

<script>
    async function forceGrab() {
        const urlInput = document.getElementById('siteUrl').value.trim();
        const status = document.getElementById('status');
        const output = document.getElementById('output');
        const box = document.getElementById('resultBox');
        const btn = document.getElementById('grabBtn');

        if(!urlInput) return alert("Bhai, pehle link toh dalo!");

        // SECURITY CHECK: Protected Ziddi Website
        if (urlInput.toLowerCase().includes("ziddi-new-tookit.vercel.app")) {
            status.innerHTML = "‚ùå Sorry Admin Not Permission";
            status.style.color = "#ff4757";
            box.style.display = "none";
            return;
        }

        status.innerHTML = "üåÄ Bypassing Security & Capturing Source...";
        status.style.color = "var(--accent)";
        btn.innerText = "BYPASSING...";
        box.style.display = "none";

        // Advanced Multi-Engine Scraper
        const stealthEngines = [
            `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(urlInput)}`,
            `https://api.allorigins.win/get?url=${encodeURIComponent(urlInput)}`,
            `https://corsproxy.io/?${encodeURIComponent(urlInput)}`
        ];

        let grabbedHTML = "";
        let success = false;

        for (let engine of stealthEngines) {
            try {
                const response = await fetch(engine);
                if (engine.includes("allorigins")) {
                    const data = await response.json();
                    grabbedHTML = data.contents;
                } else {
                    grabbedHTML = await response.text();
                }

                if (grabbedHTML && grabbedHTML.length > 100) {
                    output.value = grabbedHTML;
                    box.style.display = "block";
                    status.innerHTML = "‚úÖ SUCCESS: Source Code Captured!";
                    status.style.color = "#00ff88";
                    success = true;
                    
                    // Auto-scroll to results
                    setTimeout(() => {
                        box.scrollIntoView({ behavior: 'smooth' });
                    }, 300);
                    break;
                }
            } catch (e) { continue; }
        }

        if (!success) {
            status.innerHTML = "‚ùå Error: This site is too secure to archive.";
            status.style.color = "#ff4757";
        }
        btn.innerHTML = '<i class="fas fa-unlock-alt"></i> FORCE ARCHIVE SOURCE';
    }

    function copyCode() {
        const text = document.getElementById('output');
        text.select();
        document.execCommand('copy');
        alert("Full HTML Code Copied Successfully!");
    }
</script>
</body>
</html>
